version: "2"
sql:
  - schema: "./migrations"
    queries: "./queries"
    engine: "postgresql"
    gen:
      go:
        out: "./gen/db"
        package: "db"
        emit_prepared_queries: true
        sql_package: "pgx/v5"
        sql_driver: "github.com/jackc/pgx/v5"
        emit_interface: true
        emit_json_tags: true
        json_tags_case_style: camel
        overrides:
          - column: "tokens.scopes"
            go_type:
              import: ""
              type: "[]EntityScope"
          - column: "user_scopes.scope"
            go_type:
              import: ""
              type: "Scope"
          - column: "tokens.expires_at"
            go_type:
              import: "time"
              type: "Time"
          - db_type: "entity_scope"
            go_type:
              import: ""
              type: "EntityScope"
          - db_type: "entity_scope[]"
            go_type:
              import: ""
              type: "EntityScope"
              slice: true
          - column: "user_with_scopes_view.scopes"
            go_type:
              import: ""
              type: "[]EntityScope"
